<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Morning Paper</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700;900&display=swap" rel="stylesheet" />
  <style>
    /* â”€â”€â”€ Reset & Base â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      /* Neo-Brutalism Palette */
      --neo-cream:      #fffdf5;
      --neo-yellow:     #ffd93d;
      --neo-purple:     #f3e8ff;
      --neo-white:      #ffffff;
      --neo-black:      #000000;
      --neo-amber:      #E8B84B;
      --neo-green:      #22c55e;
      --neo-red:        #ff6b6b;

      /* Section backgrounds */
      --bg-masthead:    #000000;
      --bg-atf:         #fffdf5;
      --bg-wire:        #ffd93d;
      --bg-demos:       #ffffff;
      --bg-angle:       #000000;
      --bg-proposals:   #f3e8ff;
      --bg-sparks:      #fffdf5;
      --bg-library:     #000000;

      /* Typography */
      --font-display: "Space Grotesk", -apple-system, sans-serif;
      --font-body: Georgia, "Times New Roman", serif;
      --font-sans: -apple-system, "Helvetica Neue", Arial, sans-serif;

      /* Neo borders/shadows */
      --neo-border:        4px solid #000;
      --neo-border-thick:  8px solid #000;
      --neo-shadow-sm:     4px 4px 0px 0px #000;
      --neo-shadow-md:     6px 6px 0px 0px #000;
      --neo-shadow-lg:     8px 8px 0px 0px #000;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--neo-cream);
      color: var(--neo-black);
      font-family: var(--font-body);
      font-size: 16px;
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
    }

    a { color: inherit; text-decoration: none; }

    /* â”€â”€â”€ Scroll Progress Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #scroll-progress {
      position: fixed;
      top: 0;
      right: 0;
      width: 6px;
      height: 100vh;
      background: rgba(0,0,0,0.1);
      z-index: 1000;
      border-left: 2px solid #000;
    }
    #scroll-progress-fill {
      width: 100%;
      height: 0%;
      background: var(--neo-amber);
      transition: height 0.1s linear;
    }

    /* â”€â”€â”€ Reveal Animations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .reveal {
      opacity: 0;
      transform: translateY(24px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* â”€â”€â”€ Masthead â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .masthead {
      background: var(--bg-masthead);
      color: var(--neo-cream);
      padding: 3rem 2rem 4rem;
      border-bottom: var(--neo-border-thick);
      position: relative;
      overflow: hidden;
    }
    .masthead-inner {
      max-width: 1180px;
      margin: 0 auto;
    }
    .masthead-stickers {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .sticker {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 900;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      border: 3px solid currentColor;
      padding: 0.35rem 0.75rem;
      white-space: nowrap;
    }
    .sticker-amber {
      color: var(--neo-amber);
      border-color: var(--neo-amber);
      transform: rotate(-1.5deg);
    }
    .sticker-cream {
      color: var(--neo-cream);
      border-color: var(--neo-cream);
      transform: rotate(1deg);
    }
    .sticker-green {
      color: var(--neo-green);
      border-color: var(--neo-green);
      transform: rotate(-0.5deg);
    }
    .masthead-nameplate {
      font-family: var(--font-display);
      font-size: clamp(3.5rem, 11vw, 9rem);
      font-weight: 900;
      letter-spacing: -0.03em;
      line-height: 0.88;
      text-transform: uppercase;
      color: var(--neo-cream);
      margin-bottom: 1.5rem;
    }
    .masthead-nameplate .hl {
      color: var(--neo-amber);
    }
    .masthead-rule {
      height: 4px;
      background: var(--neo-amber);
      margin: 1.5rem 0;
    }
    .masthead-sub {
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(255,253,245,0.5);
      margin-top: 0.75rem;
    }
    .masthead-tagline {
      font-family: var(--font-body);
      font-size: 1rem;
      font-style: italic;
      color: rgba(255,253,245,0.6);
      margin-top: 0.5rem;
    }

    /* â”€â”€â”€ Section Wrapper â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .section-block {
      border-bottom: var(--neo-border-thick);
      padding: 4rem 2rem;
    }
    .section-inner {
      max-width: 1180px;
      margin: 0 auto;
    }
    .section-block.bg-atf       { background: var(--bg-atf); }
    .section-block.bg-wire      { background: var(--bg-wire); }
    .section-block.bg-demos     { background: var(--bg-demos); }
    .section-block.bg-proposals { background: var(--bg-proposals); }
    .section-block.bg-sparks    { background: var(--bg-sparks); }
    .section-block.bg-library   { background: var(--bg-library); color: var(--neo-cream); }

    /* â”€â”€â”€ Section Headers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .section-header {
      margin-bottom: 2.5rem;
    }
    .section-num {
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 900;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      opacity: 0.4;
      margin-bottom: 0.35rem;
    }
    .section-title {
      font-family: var(--font-display);
      font-size: clamp(2.2rem, 5vw, 3.5rem);
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: -0.02em;
      line-height: 0.95;
      position: relative;
      display: inline-block;
    }
    .section-title::after {
      content: '';
      display: block;
      height: 6px;
      background: var(--neo-amber);
      margin-top: 0.3rem;
    }
    .section-deck {
      font-family: var(--font-sans);
      font-size: 0.85rem;
      opacity: 0.6;
      margin-top: 0.75rem;
      font-style: italic;
    }

    /* â”€â”€â”€ Above the Fold â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .atf-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
    }
    /* â”€â”€ Pinned Research Headlines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .pinned-headline-strip {
      margin-bottom: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }
    .pinned-headline-card {
      display: flex;
      align-items: stretch;
      border: 3px solid #000;
      box-shadow: 5px 5px 0 #000;
      text-decoration: none;
      color: inherit;
      background: #0a0a0a;
      transition: transform 0.1s, box-shadow 0.1s;
      overflow: hidden;
    }
    .pinned-headline-card:hover {
      transform: translate(-2px, -2px);
      box-shadow: 7px 7px 0 #000;
    }
    .pinned-headline-flag {
      background: var(--neo-accent);
      color: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      writing-mode: vertical-rl;
      text-orientation: mixed;
      transform: rotate(180deg);
      font-size: 0.58rem;
      font-weight: 900;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 0.75rem 0.5rem;
      flex-shrink: 0;
      min-width: 2rem;
      border-right: 2px solid #000;
    }
    .pinned-headline-body {
      padding: 1rem 1.25rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 0.3rem;
      flex: 1;
    }
    .pinned-headline-kicker {
      font-size: 0.62rem;
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--neo-accent);
    }
    .pinned-headline-title {
      font-weight: 900;
      font-size: 1rem;
      line-height: 1.25;
      color: #fffdf5;
    }
    .pinned-headline-deck {
      font-size: 0.78rem;
      line-height: 1.5;
      color: rgba(255,253,245,0.55);
    }
    .pinned-headline-arrow {
      display: flex;
      align-items: center;
      padding: 0 1.25rem;
      color: var(--neo-accent);
      font-size: 1.25rem;
      flex-shrink: 0;
    }

    .atf-card {
      background: var(--neo-white);
      border: var(--neo-border);
      box-shadow: var(--neo-shadow-lg);
      padding: 2.25rem;
      transition: transform 0.12s, box-shadow 0.12s;
      position: relative;
    }
    .atf-card:hover {
      transform: translate(-3px, -3px);
      box-shadow: 11px 11px 0px 0px #000;
    }
    .atf-amber-strip {
      position: absolute;
      left: 0; top: 0; bottom: 0;
      width: 6px;
      background: var(--neo-amber);
    }
    .atf-project-tag {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 900;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      background: var(--neo-amber);
      color: #000;
      padding: 0.25rem 0.65rem;
      margin-bottom: 0.85rem;
    }
    .atf-headline {
      font-family: var(--font-display);
      font-size: 1.4rem;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 0.6rem;
    }
    .atf-body {
      font-size: 1rem;
      line-height: 1.6;
      color: rgba(0,0,0,0.72);
      margin-bottom: 0.85rem;
    }
    .atf-meta {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-family: var(--font-sans);
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: rgba(0,0,0,0.45);
      margin-bottom: 0.85rem;
    }
    .score-badge {
      font-family: var(--font-display);
      font-weight: 900;
      color: #000;
      font-size: 0.8rem;
    }
    .neo-link {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      border-bottom: 2px solid currentColor;
      padding-bottom: 1px;
      transition: opacity 0.12s;
    }
    .neo-link:hover { opacity: 0.6; }

    /* â”€â”€â”€ The Wire â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .wire-list {
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    .wire-item {
      display: grid;
      grid-template-columns: 4rem 1fr;
      gap: 0 1.5rem;
      padding: 1.5rem 0;
      border-bottom: 3px solid #000;
      align-items: start;
    }
    .wire-item:first-child { border-top: 3px solid #000; }
    .wire-num {
      font-family: var(--font-display);
      font-size: 3.5rem;
      font-weight: 900;
      line-height: 1;
      color: #000;
      opacity: 0.15;
      text-align: right;
    }
    .wire-content {}
    .wire-text {
      font-family: var(--font-body);
      font-size: 1.2rem;
      font-style: italic;
      line-height: 1.55;
      color: #000;
      margin-bottom: 0.6rem;
    }
    .wire-source {
      font-family: var(--font-sans);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: rgba(0,0,0,0.55);
    }
    .wire-source a {
      color: #000;
      border-bottom: 1px solid #000;
    }
    .wire-cat-badge {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 900;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      background: #000;
      color: var(--neo-yellow);
      padding: 0.2rem 0.5rem;
      margin-left: 0.5rem;
    }

    /* â”€â”€â”€ Demos Live â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .demos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 1.75rem;
    }
    .demo-card {
      background: var(--neo-white);
      border: var(--neo-border);
      box-shadow: var(--neo-shadow-lg);
      padding: 1.5rem;
      transition: transform 0.12s, box-shadow 0.12s;
    }
    .demo-card:hover {
      transform: translate(-3px, -3px);
      box-shadow: 11px 11px 0px 0px #000;
    }
    .demo-status-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    .live-dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: var(--neo-green);
      animation: pulse 2s ease-in-out infinite;
      flex-shrink: 0;
    }
    .dead-dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: #ccc;
      flex-shrink: 0;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(34,197,94,0.4); }
      50% { opacity: 0.7; box-shadow: 0 0 0 4px rgba(34,197,94,0); }
    }
    .live-badge {
      font-family: var(--font-display);
      font-size: 0.58rem;
      font-weight: 900;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      background: var(--neo-green);
      color: #000;
      padding: 0.15rem 0.4rem;
      border: 2px solid #000;
      box-shadow: 2px 2px 0px 0px #000;
    }
    .dead-badge {
      font-family: var(--font-display);
      font-size: 0.58rem;
      font-weight: 900;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      background: #e5e5e5;
      color: #666;
      padding: 0.15rem 0.4rem;
      border: 2px solid #999;
    }
    .demo-name {
      font-family: var(--font-display);
      font-size: 1.15rem;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 0.5rem;
      color: #000;
    }
    .demo-desc {
      font-size: 0.95rem;
      line-height: 1.55;
      color: rgba(0,0,0,0.65);
      margin-bottom: 1rem;
    }
    .demo-actions { display: flex; gap: 0.5rem; flex-wrap: wrap; }
    .neo-btn {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 900;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      padding: 0.4rem 0.9rem;
      border: 3px solid #000;
      box-shadow: var(--neo-shadow-sm);
      transition: transform 0.1s, box-shadow 0.1s;
      cursor: pointer;
      text-decoration: none;
    }
    .neo-btn:hover {
      transform: translate(4px, 4px);
      box-shadow: none;
      text-decoration: none;
    }
    .neo-btn-primary { background: var(--neo-amber); color: #000; }
    .neo-btn-ghost   { background: transparent; color: #000; }

    /* â”€â”€â”€ On Deck â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .on-deck-card {
      background: #000;
      padding: 2.5rem;
      max-width: 680px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .on-deck-action {
      font-family: var(--font-body);
      font-size: 2rem;
      font-weight: 700;
      line-height: 1.2;
      color: #fff;
    }
    .on-deck-why {
      font-size: 1.05rem;
      color: rgba(255,255,255,0.6);
      line-height: 1.55;
    }
    .on-deck-meta {
      display: flex;
      gap: 1rem;
      font-family: var(--font-display);
      font-size: 0.7rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
    }
    .on-deck-project { color: #ff4d00; }
    .on-deck-time { color: rgba(255,255,255,0.35); }

    /* â”€â”€â”€ Market Pulse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .pulse-card {
      background: #000;
      border: 3px solid #000;
      padding: 1.5rem;
    }
    .pulse-topic {
      font-family: var(--font-display);
      font-size: 0.72rem;
      font-weight: 900;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: #ffd93d;
      margin-bottom: 0.6rem;
    }
    .pulse-headline {
      font-family: var(--font-body);
      font-size: 1.2rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 0.6rem;
      line-height: 1.3;
    }
    .pulse-insight {
      font-size: 0.95rem;
      color: rgba(255,255,255,0.65);
      line-height: 1.55;
      margin-bottom: 0.85rem;
    }
    .pulse-implication {
      font-size: 0.88rem;
      color: #ff4d00;
      line-height: 1.45;
      border-top: 1px solid rgba(255,255,255,0.1);
      padding-top: 0.7rem;
    }
    .pulse-implication::before { content: "â†’ "; font-weight: 700; }

    /* â”€â”€â”€ Project Status â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .status-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 2px;
    }
    .status-card {
      background: #1a1a1a;
      padding: 1.5rem;
    }
    .status-project {
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 900;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(240,235,224,0.45);
      margin-bottom: 0.6rem;
    }
    .status-text {
      font-size: 0.95rem;
      color: rgba(240,235,224,0.8);
      line-height: 1.55;
    }
    .status-badge {
      display: inline-block;
      margin-top: 0.75rem;
      font-family: var(--font-display);
      font-size: 0.6rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 2px 8px;
      border-radius: 2px;
    }
    .status-badge.HIGH    { background: #ff4d00; color: #000; }
    .status-badge.ACTIVE  { background: #ffd93d; color: #000; }
    .status-badge.QUEUED  { background: #333; color: #888; }
    .status-badge.PARKED  { background: #1a1a1a; color: #444; border: 1px solid #333; }

    /* â”€â”€â”€ The Angle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .angle-block {
      background: var(--neo-white);
      border: var(--neo-border);
      box-shadow: var(--neo-shadow-lg);
      padding: 2rem 2.5rem;
      max-width: 780px;
    }
    .angle-label {
      font-family: var(--font-display);
      font-size: 0.6rem;
      font-weight: 900;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: #ff4d00;
      margin-bottom: 0.75rem;
    }
    .angle-headline {
      font-family: var(--font-body);
      font-size: 2rem;
      font-style: italic;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
      border-bottom: 3px solid #000;
      padding-bottom: 1rem;
    }
    .angle-body {
      font-family: var(--font-body);
      font-size: 1.15rem;
      line-height: 1.75;
      color: rgba(0,0,0,0.8);
      margin-bottom: 1.5rem;
    }
    .angle-play {
      font-family: var(--font-display);
      font-size: 0.82rem;
      font-weight: 700;
      background: #000;
      color: #fff;
      padding: 0.6rem 1rem;
      display: inline-block;
    }
    .angle-play::before {
      content: "THE PLAY â†’ ";
      color: #ff4d00;
      letter-spacing: 0.1em;
    }

    /* â”€â”€â”€ Proposals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .proposals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
      gap: 2rem;
    }
    .proposal-group {
      background: var(--neo-white);
      border: var(--neo-border);
      box-shadow: var(--neo-shadow-lg);
      padding: 2rem;
      transition: transform 0.12s, box-shadow 0.12s;
    }
    .proposal-group:hover {
      transform: translate(-2px, -2px);
      box-shadow: 10px 10px 0px 0px #000;
    }
    .proposal-group-title {
      font-family: var(--font-display);
      font-size: 0.75rem;
      font-weight: 900;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      border-bottom: 3px solid #000;
      padding-bottom: 0.6rem;
      margin-bottom: 1.25rem;
    }
    .proposal-item {
      padding: 1rem 0;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    .proposal-item:last-child { border-bottom: none; }
    .proposal-headline {
      font-family: var(--font-display);
      font-size: 1.15rem;
      font-weight: 700;
      line-height: 1.25;
      margin-bottom: 0.5rem;
    }
    .proposal-body {
      font-size: 0.95rem;
      color: rgba(0,0,0,0.72);
      line-height: 1.6;
      margin-bottom: 0.6rem;
    }
    .proposal-next {
      font-family: var(--font-display);
      font-size: 0.8rem;
      font-weight: 700;
      color: #ff4d00;
      letter-spacing: 0.05em;
    }
    .proposal-next::before { content: "â†’ "; }
    .effort-badge {
      display: inline-block;
      font-family: var(--font-display);
      font-size: 0.5rem;
      font-weight: 900;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 0.1rem 0.35rem;
      border: 2px solid currentColor;
      margin-left: 0.4rem;
      vertical-align: middle;
    }
    .effort-easy   { color: #16a34a; }
    .effort-medium { color: #ca8a04; }
    .effort-hard   { color: #dc2626; }

    /* â”€â”€â”€ Top Sparks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .sparks-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    .spark-card {
      background: var(--neo-white);
      border: var(--neo-border);
      box-shadow: var(--neo-shadow-lg);
      padding: 2rem;
      display: grid;
      grid-template-columns: 3.5rem 1fr auto;
      gap: 0 1.2rem;
      align-items: start;
      transition: transform 0.12s, box-shadow 0.12s;
    }
    /* Alternating rotations */
    .spark-card:nth-child(odd)  { transform: rotate(-0.5deg); }
    .spark-card:nth-child(even) { transform: rotate(0.5deg); }
    .spark-card:nth-child(odd):hover  { transform: rotate(0deg) translate(-3px, -3px); box-shadow: 11px 11px 0px 0px #000; }
    .spark-card:nth-child(even):hover { transform: rotate(0deg) translate(-3px, -3px); box-shadow: 11px 11px 0px 0px #000; }

    .spark-rank {
      font-family: var(--font-display);
      font-size: 2.8rem;
      font-weight: 900;
      line-height: 1;
      color: #000;
      opacity: 0.12;
      text-align: right;
    }
    .spark-content {}
    .spark-author {
      font-family: var(--font-display);
      font-size: 0.85rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      margin-bottom: 0.4rem;
    }
    .spark-text {
      font-size: 1.05rem;
      line-height: 1.55;
      color: rgba(0,0,0,0.85);
      margin-bottom: 0.6rem;
    }
    .spark-meta {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      flex-wrap: wrap;
    }
    .cat-badge {
      font-family: var(--font-display);
      font-size: 0.72rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 0.15rem 0.5rem;
      border: 2px solid #000;
      color: #000;
    }
    .score-chip {
      font-family: var(--font-display);
      font-size: 0.78rem;
      font-weight: 900;
      background: var(--neo-amber);
      color: #000;
      padding: 0.15rem 0.5rem;
      border: 2px solid #000;
    }
    .spark-link-btn {
      font-size: 0.65rem;
      padding: 0.3rem 0.65rem;
      align-self: start;
      white-space: nowrap;
    }

    /* â”€â”€â”€ Library â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .library-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .lib-stat-card {
      background: var(--neo-amber);
      border: var(--neo-border);
      box-shadow: var(--neo-shadow-lg);
      padding: 1.5rem;
      text-align: center;
      transition: transform 0.12s, box-shadow 0.12s;
    }
    .lib-stat-card:hover {
      transform: translate(-3px, -3px);
      box-shadow: 11px 11px 0px 0px var(--neo-amber);
    }
    .lib-num {
      font-family: var(--font-display);
      font-size: 3rem;
      font-weight: 900;
      color: #000;
      line-height: 1;
      margin-bottom: 0.3rem;
    }
    .lib-label {
      font-family: var(--font-display);
      font-size: 0.6rem;
      font-weight: 900;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(0,0,0,0.6);
    }
    .library-tagline {
      font-family: var(--font-body);
      font-style: italic;
      color: rgba(255,253,245,0.55);
      font-size: 0.95rem;
      text-align: center;
      margin-top: 1rem;
    }

    /* â”€â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .footer {
      background: #000;
      color: var(--neo-cream);
      text-align: center;
      padding: 2rem;
      font-family: var(--font-display);
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }
    .footer a {
      color: var(--neo-amber);
      border-bottom: 1px solid var(--neo-amber);
    }

    /* â”€â”€â”€ Loading / Empty â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .loading {
      font-family: var(--font-sans);
      font-size: 0.85rem;
      font-style: italic;
      opacity: 0.5;
      padding: 1.5rem 0;
    }
    .empty-note {
      font-family: var(--font-sans);
      font-style: italic;
      font-size: 0.85rem;
      opacity: 0.5;
    }

    /* â”€â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 860px) {
      .atf-grid { grid-template-columns: 1fr; }
      .library-stats { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
      .section-block { padding: 3rem 1.25rem; }
      .masthead { padding: 2rem 1.25rem 3rem; }
      .spark-card { grid-template-columns: 2.5rem 1fr; }
      .spark-link-btn { display: none; }
      .library-stats { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
    }
  </style>
</head>
<body>

<!-- â”€â”€â”€ Scroll Progress Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="scroll-progress">
  <div id="scroll-progress-fill"></div>
</div>

<!-- â”€â”€â”€ Masthead â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<header class="masthead">
  <div class="masthead-inner">
    <div class="masthead-stickers">
      <span class="sticker sticker-amber" id="meta-date-sticker">Loadingâ€¦</span>
      <span class="sticker sticker-cream">Published by Mango ðŸ¥­</span>
      <span class="sticker sticker-green" id="meta-vol-sticker">Vol. I</span>
    </div>
    <div class="masthead-nameplate">
      The <span class="hl">Morning</span><br>Paper
    </div>
    <div class="masthead-rule"></div>
    <div class="masthead-sub">TweetPool Intelligence Daily â€” Est. 2026</div>
    <div class="masthead-tagline" id="meta-tagline">Scanning the feed so you don't have to.</div>
  </div>
</header>

<!-- â”€â”€â”€ Section 1: Above the Fold â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-atf">
  <div class="section-inner">
    <div class="section-header reveal">
      <div class="section-num">Section 01</div>
      <div class="section-title">Above the Fold</div>
      <div class="section-deck">Top action items from the intel pool â€” what to act on today.</div>
    </div>

    <!-- â”€â”€ Pinned Research Headlines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <div id="pinned-headlines"></div>

    <div class="atf-grid" id="atf-grid">
      <div class="loading">Loading bookmarksâ€¦</div>
    </div>
  </div>
</section>

<!-- â”€â”€â”€ Section 2: The Wire â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-wire">
  <div class="section-inner">
    <div class="section-header reveal">
      <div class="section-num">Section 02</div>
      <div class="section-title">The Wire</div>
      <div class="section-deck">What the internet is telling us â€” trend signals, no noise.</div>
    </div>
    <div class="wire-list" id="wire-grid">
      <div class="loading">Loading wireâ€¦</div>
    </div>
  </div>
</section>

<!-- â”€â”€â”€ Section 3: Demos Live â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-demos">
  <div class="section-inner">
    <div class="section-header reveal">
      <div class="section-num">Section 03</div>
      <div class="section-title">Demos Live</div>
      <div class="section-deck">Every MVP built by the system â€” grouped by project. Live ones open instantly.</div>
    </div>
    <div class="demos-grid" id="demos-grid">
      <div class="loading">Loading demosâ€¦</div>
    </div>
  </div>
</section>

<!-- â”€â”€â”€ Section 4: Proposals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<!-- â”€â”€â”€ Section 04: On Deck â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block" style="background:#ff4d00;">
  <div class="section-inner">
    <div class="section-header reveal" style="color:#000;">
      <div class="section-num" style="color:rgba(0,0,0,0.4);">On Deck</div>
      <div class="section-title" style="color:#000;">Today's One Thing</div>
      <div class="section-deck" style="color:rgba(0,0,0,0.6);">The single most important action â€” above everything else.</div>
    </div>
    <div id="on-deck-block"></div>
  </div>
</section>

<!-- â”€â”€â”€ Section 04b: Market Pulse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-wire">
  <div class="section-inner">
    <div class="section-header reveal">
      <div class="section-num">Market Pulse</div>
      <div class="section-title">What Moved This Week</div>
      <div class="section-deck">Self-storage, containers, cold email â€” three signals that matter.</div>
    </div>
    <div id="pulse-grid" class="proposals-grid"></div>
  </div>
</section>

<!-- â”€â”€â”€ Section 04c: Project Status â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block" style="background:#111;">
  <div class="section-inner">
    <div class="section-header reveal" style="color:#f0ebe0;">
      <div class="section-num" style="color:#ff4d00;">Status</div>
      <div class="section-title" style="color:#f0ebe0;">Projects</div>
      <div class="section-deck" style="color:rgba(240,235,224,0.5);">Where things stand across the portfolio.</div>
    </div>
    <div id="status-grid"></div>
  </div>
</section>

<!-- â”€â”€â”€ Section 05: The Angle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block" style="background:var(--bg-angle);">
  <div class="section-inner">
    <div class="section-header reveal" style="color:#f0ebe0;">
      <div class="section-num" style="color:#ff4d00;">Section 04</div>
      <div class="section-title" style="color:#f0ebe0;">The Angle</div>
      <div class="section-deck" style="color:rgba(240,235,224,0.6);">One editorial take â€” grounded in this week's intel, aimed at your businesses.</div>
    </div>
    <div id="angle-block">
      <div class="loading" style="color:#555;">Generating editorialâ€¦</div>
    </div>
  </div>
</section>

<!-- â”€â”€â”€ Section 06: Proposals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-proposals">
  <div class="section-inner">
    <div class="section-header reveal">
      <div class="section-num">Section 05</div>
      <div class="section-title">Proposals</div>
      <div class="section-deck">Fresh ideas from the intel engine â€” business case + next action for each.</div>
    </div>
    <div class="proposals-grid" id="proposals-grid">
      <div class="loading">Loading proposalsâ€¦</div>
    </div>
  </div>
</section>

<!-- â”€â”€â”€ Section 5: Top Sparks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-sparks">
  <div class="section-inner">
    <div class="section-header reveal">
      <div class="section-num">Section 05</div>
      <div class="section-title">Top Sparks</div>
      <div class="section-deck">Highest-scoring sparks from the last 14 days â€” by composite score.</div>
    </div>
    <ul class="sparks-list" id="sparks-list">
      <li class="loading">Loading sparksâ€¦</li>
    </ul>
  </div>
</section>

<!-- â”€â”€â”€ Section 6: The Library â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<section class="section-block bg-library">
  <div class="section-inner">
    <div class="section-header reveal" style="color:var(--neo-cream)">
      <div class="section-num">Section 06</div>
      <div class="section-title" style="color:var(--neo-cream)">The Library</div>
      <div class="section-deck" style="color:rgba(255,253,245,0.5)">Pool stats â€” depth of the archive.</div>
    </div>
    <div class="library-stats" id="library-bar">
      <div class="loading" style="color:var(--neo-cream)">Loadingâ€¦</div>
    </div>
    <p class="library-tagline" id="library-tagline"></p>
  </div>
</section>

<footer class="footer">
  The Morning Paper &nbsp;Â·&nbsp; Generated by Mango ðŸ¥­ &nbsp;Â·&nbsp; TweetPool Intelligence System
  &nbsp;Â·&nbsp; <a href="https://github.com/Kaulin6/mvp-morning-paper" target="_blank" rel="noopener">GitHub â†—</a>
</footer>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ *
 *  Morning Paper â€” client-side data engine (neo-brutalism) *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

const MS_DAY = 86400000;
const MS_7D  = 7  * MS_DAY;
const MS_14D = 14 * MS_DAY;
const NOW    = new Date();

// â”€â”€ Utilities â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function esc(str) {
  return String(str)
    .replace(/&/g,'&amp;').replace(/</g,'&lt;')
    .replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}
function truncate(str, len) {
  if (!str) return '';
  str = str.replace(/\s+/g,' ').trim();
  return str.length <= len ? str : str.slice(0, len-1) + 'â€¦';
}
function effortBadge(effort) {
  if (!effort) return '';
  const cls = effort.toLowerCase().includes('easy') ? 'effort-easy'
    : effort.toLowerCase().includes('hard') ? 'effort-hard' : 'effort-medium';
  return `<span class="effort-badge ${cls}">${esc(effort)}</span>`;
}
function dayOfYear() {
  const start = new Date(NOW.getFullYear(), 0, 0);
  return Math.floor((NOW - start) / MS_DAY);
}

// â”€â”€ Date setup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DATE_STR = NOW.toLocaleDateString('en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric' });
document.getElementById('meta-date-sticker').textContent = DATE_STR;
document.getElementById('meta-vol-sticker').textContent = `Vol. I Â· No. ${dayOfYear()}`;

// â”€â”€ Scroll progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const progressFill = document.getElementById('scroll-progress-fill');
window.addEventListener('scroll', () => {
  const scrolled = window.scrollY;
  const total = document.documentElement.scrollHeight - window.innerHeight;
  const pct = total > 0 ? (scrolled / total) * 100 : 0;
  progressFill.style.height = pct + '%';
}, { passive: true });

// â”€â”€ IntersectionObserver reveal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      revealObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.08 });

function observeReveal(el) {
  el.classList.add('reveal');
  revealObserver.observe(el);
}

function staggerReveal(container, selector='.reveal-child', baseDelay=0) {
  const children = container.querySelectorAll(selector);
  children.forEach((child, i) => {
    child.style.transitionDelay = (baseDelay + i * 80) + 'ms';
    revealObserver.observe(child);
  });
}

// Observe existing section headers
document.querySelectorAll('.section-header.reveal').forEach(el => revealObserver.observe(el));

// â”€â”€ Fetch helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchJSON(url) {
  try {
    const r = await fetch(url);
    if (!r.ok) throw new Error(`HTTP ${r.status}`);
    return await r.json();
  } catch(e) { console.warn('fetchJSON failed', url, e); return null; }
}
async function fetchText(url) {
  try {
    const r = await fetch(url);
    if (!r.ok) throw new Error(`HTTP ${r.status}`);
    return await r.text();
  } catch(e) { console.warn('fetchText failed', url, e); return null; }
}

// â”€â”€ Section 1: Above the Fold â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderAboveTheFold(bookmarks) {
  const grid = document.getElementById('atf-grid');
  if (!bookmarks) { grid.innerHTML = `<div class="empty-note">Could not load bookmarks.</div>`; return; }

  const projectMap = {
    containerHQ:'Container HQ', mealFlow:'Meal Flow', birddog:'Birddog',
    polymarket:'Polymarket', fundingArb:'Funding Arb', tweetPool:'TweetPool', wildcard:'Wild Card'
  };
  const items = [];
  for (const b of bookmarks) {
    if (!b.applicability) continue;
    for (const [key, label] of Object.entries(projectMap)) {
      if (b.applicability[key]) {
        items.push({
          project: label, key,
          applicability: b.applicability[key],
          summary: b.summary || '',
          implications: b.implications || {},
          keyTakeaways: b.keyTakeaways || [],
          author: b.author, url: b.url, text: b.text,
          composite: b.ratings?.composite || 0,
          category: b.category,
          agentWorkflow: b.agentWorkflow,
          agentWorkflowNote: b.agentWorkflowNote,
        });
        break;
      }
    }
  }
  items.sort((a,b) => b.composite - a.composite);
  const top4 = items.slice(0, 4);
  if (!top4.length) { grid.innerHTML = `<div class="empty-note">No actionable items found.</div>`; return; }

  grid.innerHTML = top4.map((item, idx) => `
    <div class="atf-card reveal-child" style="${idx === 0 ? 'border-left: 6px solid #ff4d00;' : ''}">
      <div class="atf-amber-strip"></div>
      <div style="padding-left:0.5rem; display:flex; flex-direction:column; gap:0.4rem; height:100%">
        <div style="display:flex; justify-content:space-between; align-items:flex-start;">
          <div class="atf-project-tag">${esc(item.project)}</div>
          <span class="score-badge">â˜… ${item.composite.toFixed(1)}</span>
        </div>
        <div class="atf-meta">
          <span>${esc(item.author)}</span>
          <span>Â·</span>
          <span>${esc(item.category || 'General')}</span>
          ${item.agentWorkflow ? `<span>Â·</span><span style="color:#ff4d00;font-weight:700">ðŸ¤– Agent</span>` : ''}
        </div>
        <div class="atf-headline">${esc(item.applicability)}</div>
        <div class="atf-body">${esc(item.summary ? item.summary : item.text)}</div>
        ${item.keyTakeaways?.length ? `
          <div style="margin-top:0.25rem; border-top:1px solid rgba(0,0,0,0.08); padding-top:0.5rem;">
            ${item.keyTakeaways.slice(0,2).map(t => `<div style="font-size:0.72rem;color:rgba(0,0,0,0.5);padding:2px 0;">â†’ ${esc(t)}</div>`).join('')}
          </div>` : ''}
        ${item.implications?.specific ? `<div style="font-size:0.73rem;color:#ff4d00;margin-top:auto;padding-top:0.4rem;font-weight:600;">âš¡ ${esc(item.implications.specific)}</div>` : ''}
        <a class="neo-link" href="${esc(item.url)}" target="_blank" rel="noopener" style="margin-top:0.5rem;">â†’ Source tweet</a>
      </div>
    </div>
  `).join('');

  grid.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    el.style.transitionDelay = (i * 80) + 'ms';
    revealObserver.observe(el);
  });
}

// â”€â”€ Section 2: The Wire â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderTheWire(bookmarks) {
  const grid = document.getElementById('wire-grid');
  if (!bookmarks) { grid.innerHTML = `<div class="empty-note">No wire data.</div>`; return; }

  // Use implications.general for macro trends â€” richer than b.why
  const sparks = bookmarks
    .filter(b => b.isSpark && (b.implications?.general || b.summary))
    .sort((a,b) => (b.ratings?.composite||0) - (a.ratings?.composite||0))
    .slice(0, 6);

  if (!sparks.length) { grid.innerHTML = `<div class="empty-note">No signals today.</div>`; return; }

  grid.innerHTML = sparks.map((b, i) => {
    const signal = b.implications?.general || b.summary || '';
    const specific = b.implications?.specific || '';
    const projects = Object.entries(b.applicability || {})
      .filter(([k,v]) => v && k !== 'marketing')
      .map(([k]) => k.replace('containerHQ','Container HQ').replace('mealFlow','Meal Flow')
        .replace('birddog','Birddog').replace('polymarket','Polymarket')
        .replace('tweetPool','TweetPool').replace('fundingArb','Funding Arb').replace('wildcard','Wild Card'))
      .slice(0, 2);

    return `
    <div class="wire-item reveal-child">
      <div class="wire-num">${String(i+1).padStart(2,'0')}</div>
      <div class="wire-content">
        <div class="wire-text">"${esc(signal)}"</div>
        ${specific ? `<div style="font-size:0.75rem;color:rgba(0,0,0,0.5);margin-top:0.3rem;font-style:italic;">âš¡ ${esc(specific)}</div>` : ''}
        <div class="wire-source" style="margin-top:0.4rem;display:flex;gap:0.5rem;align-items:center;flex-wrap:wrap;">
          via <a href="${esc(b.url)}" target="_blank" rel="noopener">${esc(b.author)}</a>
          <span class="wire-cat-badge">${esc(b.category || 'General')}</span>
          ${projects.map(p => `<span style="font-size:0.65rem;background:rgba(0,0,0,0.07);padding:1px 6px;border-radius:2px;">${esc(p)}</span>`).join('')}
          <span style="margin-left:auto;font-size:0.7rem;opacity:0.4;">â˜… ${(b.ratings?.composite||0).toFixed(1)}</span>
        </div>
      </div>
    </div>`;
  }).join('');

  grid.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    el.style.transitionDelay = (i * 80) + 'ms';
    revealObserver.observe(el);
  });
}

// â”€â”€ Section 3: Demos Live â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderDemos(mvps) {
  const grid = document.getElementById('demos-grid');
  if (!mvps || !mvps.length) {
    grid.innerHTML = `<div class="empty-note" style="grid-column:1/-1">No MVPs indexed yet.</div>`;
    return;
  }

  // Group by project, live first within each group
  const groups = {};
  const sorted = [...mvps].sort((a,b) => {
    if (a.project < b.project) return -1;
    if (a.project > b.project) return 1;
    return (b.liveUrl ? 1 : 0) - (a.liveUrl ? 1 : 0);
  });

  for (const mvp of sorted) {
    const proj = mvp.project || 'Other';
    if (!groups[proj]) groups[proj] = [];
    groups[proj].push(mvp);
  }

  const PROJECT_COLORS = {
    'Container HQ':   '#dbeafe',
    'Birddog':        '#dcfce7',
    'Meal Flow':      '#fef3c7',
    'Polymarket':     '#f3e8ff',
    'Funding Arb':    '#fce7f3',
    'TweetPool':      '#f0fdf4',
    'TweetPool / Meta': '#f0fdf4',
    'IEEPA Refunds':  '#fef9c3',
    'RV Nest':        '#f1f5f9',
    'Other':          '#f8fafc',
  };

  let html = '';
  let cardIndex = 0;

  for (const [projName, projMvps] of Object.entries(groups)) {
    const liveCount = projMvps.filter(m => m.liveUrl).length;
    const color = PROJECT_COLORS[projName] || '#f8fafc';

    html += `<div style="grid-column:1/-1;display:flex;align-items:center;gap:0.75rem;margin-top:1.5rem;margin-bottom:0.25rem;">
      <span style="font-size:0.7rem;font-weight:800;letter-spacing:0.12em;text-transform:uppercase;background:${color};border:2px solid #000;padding:0.15rem 0.5rem;">${esc(projName)}</span>
      <span style="font-size:0.65rem;color:rgba(0,0,0,0.4);">${liveCount} live Â· ${projMvps.length} total</span>
    </div>`;

    for (const mvp of projMvps) {
      const isLive = !!(mvp.liveUrl);
      const statusHtml = isLive
        ? `<span class="live-dot"></span><span class="live-badge">Live</span>`
        : `<span class="dead-dot"></span><span class="dead-badge">${mvp.status === 'built' ? 'Built' : 'Concept'}</span>`;
      const openBtn = isLive
        ? `<a class="neo-btn neo-btn-primary" href="${esc(mvp.liveUrl)}" target="_blank" rel="noopener">Open Demo â†’</a>`
        : `<span class="neo-btn neo-btn-ghost" style="opacity:.3;pointer-events:none">No Live URL</span>`;
      const ghBtn = mvp.githubUrl
        ? `<a class="neo-btn neo-btn-ghost" href="${esc(mvp.githubUrl)}" target="_blank" rel="noopener">GitHub â†—</a>`
        : '';
      const builtDate = mvp.builtDate ? `<span style="font-size:0.62rem;color:rgba(0,0,0,0.3);margin-left:auto;">${esc(mvp.builtDate)}</span>` : '';

      html += `
      <div class="demo-card reveal-child" style="${isLive ? 'border-top:3px solid #000;' : 'opacity:0.75;'}transition-delay:${cardIndex * 50}ms">
        <div class="demo-status-row" style="display:flex;align-items:center;gap:0.5rem;">${statusHtml}${builtDate}</div>
        <div class="demo-name">${esc(mvp.name)}</div>
        <div class="demo-desc">${esc(mvp.description || '')}</div>
        <div class="demo-actions" style="margin-top:auto;">${openBtn}${ghBtn}</div>
      </div>`;
      cardIndex++;
    }
  }

  grid.innerHTML = html;

  grid.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    revealObserver.observe(el);
  });
}

// â”€â”€ Section 4: Proposals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function parseProposals(md) {
  if (!md) return {};
  const groups = {};
  let cur = null;
  for (const line of md.split('\n')) {
    const gm = line.match(/^##\s+(?:\d+\.\s+)?(.+)/);
    if (gm) { cur = gm[1].trim(); if (!groups[cur]) groups[cur] = []; continue; }
    const im = line.match(/^[-*]\s+\*\*([^*]+)\*\*[:\s]*(.+)/);
    if (im && cur) {
      const title = im[1].trim();
      const body  = im[2].trim();
      const em    = body.match(/Effort:\s*(Easy|Medium|Hard)/i);
      groups[cur].push({ title, body, effort: em ? em[1] : null });
    }
  }
  return groups;
}

function renderOnDeck(onDeck) {
  const el = document.getElementById('on-deck-block');
  if (!el) return;
  if (!onDeck) { el.innerHTML = '<div style="color:rgba(0,0,0,0.4);font-size:0.9rem;">Nothing queued.</div>'; return; }
  el.innerHTML = `
    <div class="on-deck-card reveal">
      <div class="on-deck-action">${esc(onDeck.action)}</div>
      ${onDeck.why ? `<div class="on-deck-why">${esc(onDeck.why)}</div>` : ''}
      <div class="on-deck-meta">
        <span class="on-deck-project">${esc(onDeck.project || '')}</span>
        ${onDeck.timeEstimate ? `<span class="on-deck-time">${esc(onDeck.timeEstimate)}</span>` : ''}
      </div>
    </div>`;
  el.querySelectorAll('.reveal').forEach(e => revealObserver.observe(e));
}

function renderMarketPulse(pulseItems) {
  const grid = document.getElementById('pulse-grid');
  if (!grid) return;
  if (!pulseItems?.length) { grid.innerHTML = '<div class="empty-note">No market pulse today.</div>'; return; }
  grid.innerHTML = pulseItems.map((p, i) => `
    <div class="pulse-card reveal-child" style="transition-delay:${i*80}ms">
      <div class="pulse-topic">${esc(p.topic)}</div>
      <div class="pulse-headline">${esc(p.headline)}</div>
      <div class="pulse-insight">${esc(p.insight)}</div>
      ${p.implication ? `<div class="pulse-implication">${esc(p.implication)}</div>` : ''}
      ${p.sourceUrl ? `<div style="margin-top:0.5rem;font-size:0.7rem;opacity:0.6;"><a href="${esc(p.sourceUrl)}" target="_blank" rel="noopener" style="color:inherit;text-decoration:underline;text-underline-offset:2px;">â†— ${esc(p.sourceTitle || p.sourceUrl)}</a></div>` : ''}
    </div>`).join('');
  grid.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    revealObserver.observe(el);
  });
}

function renderProjectStatus(statusItems) {
  const el = document.getElementById('status-grid');
  if (!el) return;
  if (!statusItems?.length) { el.innerHTML = '<div class="empty-note" style="color:#555;">No status data.</div>'; return; }
  el.className = 'status-grid';
  el.innerHTML = statusItems.map(s => `
    <div class="status-card reveal-child">
      <div class="status-project">${esc(s.project)}</div>
      <div class="status-text">${esc(s.status)}</div>
      <div><span class="status-badge ${esc(s.priority)}">${esc(s.priority)}</span></div>
    </div>`).join('');
  el.querySelectorAll('.reveal-child').forEach(el => {
    el.classList.add('reveal');
    revealObserver.observe(el);
  });
}

function renderEditorial(editorial) {
  // â”€â”€ The Angle â”€â”€
  const angleBlock = document.getElementById('angle-block');
  if (editorial?.theAngle) {
    const a = editorial.theAngle;
    angleBlock.innerHTML = `
      <div class="angle-block reveal">
        <div class="angle-label">Today's Angle</div>
        <div class="angle-headline">${esc(a.headline)}</div>
        <div class="angle-body">${esc(a.body)}</div>
        ${a.thePlay ? `<div class="angle-play">${esc(a.thePlay)}</div>` : ''}
      </div>`;
    angleBlock.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));
  } else {
    angleBlock.innerHTML = `<div class="empty-note" style="color:#555;">No editorial generated today.</div>`;
  }

  // â”€â”€ Proposals with pitches â”€â”€
  const grid = document.getElementById('proposals-grid');
  if (!editorial?.proposals?.length) {
    grid.innerHTML = `<div class="empty-note">No proposals today.</div>`;
    return;
  }

  // Group by project
  const byProject = {};
  for (const p of editorial.proposals) {
    if (!byProject[p.project]) byProject[p.project] = [];
    byProject[p.project].push(p);
  }

  grid.innerHTML = Object.entries(byProject).map(([project, items]) => `
    <div class="proposal-group reveal-child">
      <div class="proposal-group-title">${esc(project)}</div>
      ${items.map(item => `
        <div class="proposal-item">
          <div class="proposal-headline">${esc(item.title)}</div>
          <div class="proposal-body">${esc(item.pitch || item.rawBody)}</div>
          ${item.nextAction ? `<div class="proposal-next">${esc(item.nextAction)}</div>` : ''}
        </div>
      `).join('')}
    </div>
  `).join('');

  grid.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    el.style.transitionDelay = (i * 100) + 'ms';
    revealObserver.observe(el);
  });
}

function renderProposals(md) {
  // Legacy fallback â€” only used if editorial.json doesn't load
  const grid = document.getElementById('proposals-grid');
  if (!md) { grid.innerHTML = `<div class="empty-note">Could not load PROPOSALS.md.</div>`; return; }

  const groups = parseProposals(md);
  const entries = Object.entries(groups).filter(([,items]) => items.length > 0);
  if (!entries.length) { grid.innerHTML = `<div class="empty-note">No proposals parsed.</div>`; return; }

  const skip = (k) => k.toLowerCase().includes('update') || k.toLowerCase().includes('project proposals');
  const mainSections = entries.filter(([k]) => !skip(k));
  const updateSection = entries.find(([k]) => k.toLowerCase().includes('update'));
  const toRender = updateSection ? [updateSection, ...mainSections] : mainSections;

  grid.innerHTML = toRender.slice(0, 6).map(([group, items]) => `
    <div class="proposal-group reveal-child">
      <div class="proposal-group-title">${esc(group)}</div>
      ${items.map(item => `
        <div class="proposal-item">
          <div class="proposal-headline">
            ${esc(item.title)}${effortBadge(item.effort)}
          </div>
          <div class="proposal-body">${esc(item.body.replace(/Effort:\s*(Easy|Medium|Hard)/i,'').trim())}</div>
        </div>
      `).join('')}
    </div>
  `).join('');

  grid.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    el.style.transitionDelay = (i * 100) + 'ms';
    revealObserver.observe(el);
  });
}

// â”€â”€ Section 5: Top Sparks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderSparks(bookmarks) {
  const list = document.getElementById('sparks-list');
  if (!bookmarks) { list.innerHTML = `<li class="empty-note">No spark data.</li>`; return; }

  // Show top 8 all-time, not just 14 days â€” more useful
  const top = bookmarks
    .filter(b => b.isSpark)
    .sort((a,b) => (b.ratings?.composite||0) - (a.ratings?.composite||0))
    .slice(0, 8);

  if (!top.length) { list.innerHTML = `<li class="empty-note">No sparks yet.</li>`; return; }

  list.innerHTML = top.map((b, i) => {
    const r = b.ratings || {};
    const ratingBars = [
      { label: 'Impact',   val: r.impact   || 0 },
      { label: 'Novelty',  val: r.novelty  || 0 },
      { label: 'Fit',      val: r.fit      || 0 },
      { label: 'Build',    val: r.iterations || 0 },
    ];
    const projects = Object.entries(b.applicability || {})
      .filter(([k,v]) => v && k !== 'marketing')
      .map(([k]) => k.replace('containerHQ','CHQ').replace('mealFlow','MF')
        .replace('birddog','BD').replace('polymarket','PM')
        .replace('tweetPool','TP').replace('fundingArb','FA').replace('wildcard','WC'));

    return `
    <li class="spark-card reveal-child">
      <div class="spark-rank">${String(i+1).padStart(2,'0')}</div>
      <div class="spark-content">
        <div style="display:flex;align-items:center;gap:0.5rem;margin-bottom:0.2rem;">
          <div class="spark-author">${esc(b.author)}</div>
          ${projects.map(p => `<span style="font-size:0.6rem;background:rgba(0,0,0,0.08);padding:1px 5px;border-radius:2px;font-weight:700;">${p}</span>`).join('')}
        </div>
        <div class="spark-text">${esc(b.text)}</div>
        ${b.summary ? `<div style="font-size:0.76rem;color:rgba(0,0,0,0.5);margin-top:0.3rem;line-height:1.45;">${esc(b.summary)}</div>` : ''}
        ${b.implications?.specific ? `<div style="font-size:0.72rem;color:#ff4d00;margin-top:0.25rem;">âš¡ ${esc(b.implications.specific)}</div>` : ''}
        <div class="spark-meta" style="margin-top:0.5rem;display:flex;align-items:center;gap:0.75rem;flex-wrap:wrap;">
          <span class="cat-badge">${esc(b.category || 'Spark')}</span>
          <span class="score-chip">â˜… ${(r.composite||0).toFixed(1)}</span>
          ${ratingBars.map(rb => `<span style="font-size:0.65rem;color:rgba(0,0,0,0.4);">${rb.label} ${rb.val}/5</span>`).join('')}
          ${b.agentWorkflow ? `<span style="font-size:0.65rem;color:#ff4d00;font-weight:700;">ðŸ¤– Agent-ready</span>` : ''}
        </div>
      </div>
      <a class="neo-btn neo-btn-ghost spark-link-btn" href="${esc(b.url)}" target="_blank" rel="noopener">View â†’</a>
    </li>`;
  }).join('');

  list.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    el.style.transitionDelay = (i * 80) + 'ms';
    revealObserver.observe(el);
  });
}

// â”€â”€ Section 6: Library â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderLibrary(bookmarks) {
  const bar = document.getElementById('library-bar');
  if (!bookmarks) { bar.innerHTML = `<div class="empty-note" style="color:var(--neo-cream)">No data.</div>`; return; }

  const total  = bookmarks.length;
  const sparks = bookmarks.filter(b => b.isSpark).length;
  const withApp = bookmarks.filter(b => {
    const a = b.applicability;
    return a && (a.containerHQ || a.mealFlow || a.birddog || a.wildcard);
  }).length;
  const lastDate = bookmarks.reduce((max, b) => {
    const t = new Date(b.time); return t > max ? t : max;
  }, new Date(0));
  const lastStr = lastDate.toLocaleDateString('en-US', { month:'short', day:'numeric', year:'numeric' });

  const cutoff24 = new Date(NOW - MS_DAY);
  const new24 = bookmarks.filter(b => new Date(b.time) > cutoff24).length;

  const taglineEl = document.getElementById('library-tagline');
  taglineEl.textContent = new24 > 0
    ? `${new24} new ${new24 === 1 ? 'bookmark' : 'bookmarks'} in the last 24h. Last enriched: ${lastStr}.`
    : `Last enriched: ${lastStr}. Pool runs deep.`;

  document.getElementById('meta-tagline').textContent = taglineEl.textContent;

  const stats = [
    { num: total,   label: 'Bookmarks' },
    { num: sparks,  label: 'Sparks' },
    { num: withApp, label: 'With Implications' },
    { num: lastStr, label: 'Last Enriched', small: true },
  ];

  bar.innerHTML = stats.map((s, i) => `
    <div class="lib-stat-card reveal-child" style="transition-delay:${i*100}ms">
      <div class="lib-num" ${s.small ? 'style="font-size:1.4rem"' : ''}>${esc(String(s.num))}</div>
      <div class="lib-label">${esc(s.label)}</div>
    </div>
  `).join('');

  bar.querySelectorAll('.reveal-child').forEach((el, i) => {
    el.classList.add('reveal');
    el.style.transitionDelay = (i * 100) + 'ms';
    revealObserver.observe(el);
  });
}

// â”€â”€ Bootstrap â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// â”€â”€ Pinned Research Headlines â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PINNED_HEADLINES = [
  {
    kicker: 'Special Report Â· New Opportunity',
    title: 'IEEPA Tariff Refund Deal Flow â€” Acquisition Structures, Legal Costs & Portfolio Economics',
    deck: '$175B in illegal tariffs. How to source claims, structure deals with your investor, and what Flexport\'s 10%+3.5% model means for you.',
    url: 'https://kaulin6.github.io/morning-paper-archive/papers/2026-02-28-ieepa-deal-flow.html',
    flag: 'Research',
  },
  {
    kicker: 'Special Report Â· Background',
    title: 'IEEPA Tariff Refund Arbitrage â€” The Overview, Four Angles, and The Cold Email Pitch',
    deck: 'SCOTUS struck down IEEPA tariffs. Wall Street is buying claims at 40Â¢. The deal-sourcing play explained from scratch.',
    url: 'https://kaulin6.github.io/morning-paper-archive/papers/2026-02-28-ieepa-research.html',
    flag: 'Research',
  },
];

function renderPinnedHeadlines() {
  const el = document.getElementById('pinned-headlines');
  if (!el || !PINNED_HEADLINES.length) return;
  el.innerHTML = `<div class="pinned-headline-strip">
    ${PINNED_HEADLINES.map(h => `
      <a class="pinned-headline-card reveal" href="${esc(h.url)}" target="_blank" rel="noopener">
        <div class="pinned-headline-flag">${esc(h.flag)}</div>
        <div class="pinned-headline-body">
          <div class="pinned-headline-kicker">${esc(h.kicker)}</div>
          <div class="pinned-headline-title">${esc(h.title)}</div>
          <div class="pinned-headline-deck">${esc(h.deck)}</div>
        </div>
        <div class="pinned-headline-arrow">â†’</div>
      </a>`).join('')}
  </div>`;
}

(async function init() {
  const [bookmarks, mvps, proposalsMd, editorial] = await Promise.all([
    fetchJSON('bookmarks.json'),
    fetchJSON('mvp-index.json'),
    fetchText('PROPOSALS.md'),
    fetchJSON('editorial.json'),
  ]);

  renderPinnedHeadlines();
  renderAboveTheFold(bookmarks);
  renderTheWire(bookmarks);
  renderDemos(mvps);
  renderOnDeck(editorial?.onDeck || null);
  renderMarketPulse(editorial?.marketPulse || []);
  renderProjectStatus(editorial?.projectStatus || []);
  if (editorial?.proposals?.length) {
    renderEditorial(editorial);
  } else {
    renderProposals(proposalsMd);
  }
  renderSparks(bookmarks);
  renderLibrary(bookmarks);
})();
</script>
</body>
</html>
